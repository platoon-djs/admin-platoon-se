!function(e,t){"use strict";var n=["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(n,o,l){var r=n.$eval(l.typeaheadEngine)||[],a=n.$eval(l.typeaheadOptions)||{},i=e(l.typeaheadOnSelect),d=t.isArray(r)?r:[r];d.unshift(t.extend({highlight:!0},a)),o.typeahead.apply(o,d),o.on("keydown",function(e){13===e.which&&$(".tt-suggestion:first-child",o.closest(".twitter-typeahead")).trigger("click")}),o.on("typeahead:select",function(t,o){s.$apply(function(){e(l.ngModel).assign(n,o)}),i(n,{$value:o})});var s=n.$new();n.$on("$destroy",function(){s.$destroy()})}}}],o=function(){return function(e){if(null!=e){var t="";e=e.replace(/[\s\-]+/g,"");for(var n=1;n<=e.length;n++)t+=(n>5?n%2==1?" ":"":n%4==0?"-":"")+e[n-1];return t}}};t.module("platoon.admin",[]).controller("AdminController",["$scope","$location","$state",function(e,t,n){e.activeState=function(e){return{active:n.current.name.split(".")[0]==e}},e.activeUrl=function(e){return{active:t.url()===e}}}]),t.module("platoon.cms",[]).controller("CMSController",["$scope",function(e){}]),t.module("platoon.common",[]).filter("phoneNumber",o).directive("typeaheadJs",n),t.module("platoon.event",[]).controller("EventController",["$scope","$location","$filter",function(e,t,n){e.eventTypes=[{label:"Private",type:"private"},{label:"Company",type:"company"},{label:"Wedding",type:"wedding"},{label:"Student",type:"student"}],e.add={},e.add.djs={djs:[],add:function(t){e.$evalAsync(function(){e.add.djs.djs.push(t),e.add.djs.current=""}.bind(this))},remove:function(e){var t=$(e.target).find(":selected");if(t.length>0&&8===e.which||46===e.which){e.preventDefault(),e.stopPropagation();for(var n=t.html(),o=0;o<this.djs.length;o++)if(this.djs[o]==n){this.djs.splice(o,1);break}}},engine:{name:"djs",source:new Bloodhound({queryTokenizer:Bloodhound.tokenizers.whitespace,datumTokenizer:Bloodhound.tokenizers.whitespace,local:["Max","Arvid","Roshan","Amanda","Robin"]})}},e.add.type=e.eventTypes[0].type,e.add.phone="",e.add.layout="standard",e.$watch(function(){return e.add.phone},function(t){null!=t&&(e.add.phone=n("phoneNumber")(t))})}]),t.module("platoon",["ngResource","ui.router","ui.calendar","ui.bootstrap","platoon.common","platoon.tpls","platoon.admin","platoon.event","platoon.cms"]),t.module("platoon").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){n.html5Mode(!0),n.hashPrefix("!"),t.otherwise("/"),e.state("dashboard",{url:"/",templateUrl:"dashboard.html",controller:"CMSController"}).state("music",{url:"/music",templateUrl:"music.html",controller:"CMSController"}).state("cms",{url:"/cms",templateUrl:"cms.html",controller:"CMSController"}).state("event",{url:"/event","abstract":!0,templateUrl:"event.html",controller:"EventController"}).state("event.calendar",{url:"",templateUrl:"event.calendar.html"}).state("event.list",{url:"/list",templateUrl:"event.list.html"}).state("event.ledger",{url:"/ledger",templateUrl:"event.ledger.html"}).state("event.history",{url:"/history",templateUrl:"event.history.html"}).state("event.create",{url:"/create",templateUrl:"event.create.html"}).state("config",{url:"/config",templateUrl:"config.html",controller:"CMSController"})}])}(window,window.angular);
//# sourceMappingURL=platoon.js.map